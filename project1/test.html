<html >
  <head>
    <meta charset="utf-8">
    <title>Angular.js JSON Fetching Example</title>
    <link href="https://getbootstrap.com/dist/css/bootstrap.min.css" rel="stylesheet">
	
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.3/angular.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.3/angular-route.js "></script>
    
  </head>
  <body >
      
      <ng-view></ng-view>
<div ng-app="myApp">
    <a class="btn btn-default" data-toggle="modal" data-target="#modal">Add new item</a>
    
    <div ng-controller="ListController">
        <h4>List</h4>
        <ul>
            <li ng-repeat="item in list">
                {{item.name}}
                <a class="btn" data-toggle="modal" data-target="#modal" ng-click="editItem(item)">Edit item</a>
            </li>
        </ul>
    </div>
    
    <div id="modal" role="dialog" class="modal">
        <div ng-controller="ItemController">
            <div class="modal-header">
                Item Dialog
            </div>
            <div class="modal-body">
                <label for="txtName">
                <input type="text" id="txtName" ng-model="item.name">
            </label></div>
            <div class="modal-footer">
                <button class="btn btn-primary" ng-click="saveItem()" data-dismiss="modal">OK</button>
            </div>
        </div>
    </div>
    
</div>
      
      <script>
      
      var db_list = [{ name: "Test1" }, { name: "Test2" }];

var app = angular.module('myApp', []).
controller('ListController', function($scope, $rootScope) {
    $scope.list = db_list;
    
    $scope.editItem = function(item) {
        $rootScope.item = item;
    }
}).
controller('ItemController', function($scope, $rootScope) {
    $scope.saveItem = function() {
        db_list.push($rootScope.item);
        $rootScope.item = null;
    }
});

//$(document).ready(function() {});
      </script>
    </body>
</html>
